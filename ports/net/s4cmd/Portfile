# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           python 1.0
PortGroup           github 1.0

github.setup        bloomreach s4cmd 8d48126ec7b2045cbe2acd53efb90ba44af70aaf
name                s4cmd
version             1.5.17
revision            0
categories-append   net sysutils
license             Apache-2.0
maintainers         openmaintainer
supported_archs     noarch

description     Super S3 command line tool
long_description \
    S4cmd is a command-line utility for accessing Amazon S3, inspired by s3cmd.

homepage        https://github.com/bloomreach/s4cmd
fetch.type      git

python.default_version 27
python.link_binaries_suffix

depends_lib-append      port:py${python.version}-boto

configure {}

build {}

destroot {
    set python_prefix ${frameworks_dir}/Python.framework/Versions/${python.branch}
    xinstall -d 0755 ${destroot}${python_prefix}/bin
    xinstall -m 0755 ${worksrcpath}/s4cmd.py ${destroot}${python_prefix}/bin/s4cmd
}

livecheck.type      regex
livecheck.version   ${version}
livecheck.url       https://github.com/bloomreach/s4cmd/blob/master/s4cmd.py
livecheck.regex     {S4CMD_VERSION<.+?> <.+?>=<.+?> <.+?>&quot;([0-9.]+)&quot;}
